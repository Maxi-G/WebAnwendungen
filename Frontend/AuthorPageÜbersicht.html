<html>
    <head>
        <title>The Ebook Hub</title>
        <link rel="stylesheet" href="CSS/AuthorPage.css"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <meta charset="UTF-8"/>
    </head>
    
    <body>
        <div id="navigation">
            <div id="titel" class="navElemente">
                <a id="title_font" href="Home.html">The Ebook Hub</a>
            </div>

            <div id="selectNav" class="navElemente">              
                    <a href="Home.html">HOME</a>     
                    <a href="Shop.html">SHOP</a>   
                    <a href="AuthorPageÜbersicht.html">AUTOREN</a>          
                    <a href="Warenkorb.html">
                    <img id="warenkorb" src="sources/Warenkorb.png" alt="Warenkorb">
                    </a>                 
            </div>

            <div id="logo"></div>
        </div>   
        
        <div class="author_body_container" id="author_container">
			<h1 style="color:#444048">Autoren</h1>
		
			<form class="searchbar_container">
				<input type="text" placeholder="Nach Autor suchen..." name="search">
				<button type="submit" >	<i class="fa fa-search"> </i>	</button>
			</form>	
			
					
			
			
		</div>
		
		
		<div id="footer">
            <div id="selectFooter" class="FooterElemente">              
                <a href="Impressum.html">Impressum und Kontakt</a>     
                <a href="Datenschutzerklärung.html">Datenschutz</a>   
                <a href="Widerrufsrecht.html">Widerrufsrecht</a>     
            </div>
            <div id="copyright"></div>
        </div>

		<script>
			$.ajax({
				url: 'http://localhost:8000/web2/autor/gib/alle',
				method: 'get',
				dataType: 'json'
			}).done(function (response) {
				ajaxToHTML(response.daten);
			}).fail(function (jqXHR, statusText, error) {
					console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
					$('#output').html('Ein Fehler ist aufgetreten');
			});

			function ajaxToHTML(json_autoren) {
				for (let i =0; i<json_autoren.length; i++) {
					autorobj = json_autoren[i];				
					console.log(json_autoren)
					tmp="<div class=\"author_buble\">"
					tmp+="<a href=\"https://www.google.com/\"\" class=\"Author_link\">"
					tmp+="<div class=\"inside_buble_container\">"
					tmp+="<span class=\"Author_attribute_tag\">Name: </span>"
					tmp+="<span class=\"Author_attribute\">" + autorobj["name"] + "</span>"
					tmp+="</div>"
					tmp+="<div class=\"inside_buble_container\">"
					tmp+="<span class=\"Author_attribute_tag\">Alter: </span>"
					tmp+="<span class=\"Author_attribute\">" + autorobj["age"] + "</span>"
					tmp+="</div>"
					tmp+="<div class=\"inside_buble_books_container\">"
					tmp+="<span class=\"Author_attribute_tag\">Bücher: </span>"
					tmp+="<div class=\"Book_links\">"
					tmp+="<a class=\"Book_link\" href=\"https://www.google.com/\">Buchname</a>"
					tmp+="</div>"
					tmp+="</div>"
					tmp+="</a>"
					tmp+="</div"
					$("#author_container").append(tmp)
				}
			}
		</script>
    </body>
</html>